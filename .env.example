# Wellness at Work (WaW) Environment Configuration
# Copy this to .env and customize for your environment

# Database Configuration
# For local development (SQLite)
DATABASE_URL=sqlite:///waw_local.db

# For production (PostgreSQL on AWS RDS)
# Prefer the 'postgresql://' scheme. The backend also normalizes 'postgres://' to 'postgresql://'.
# Basic DSN (no SSL):
# DATABASE_URL=postgresql://username:password@your-rds-endpoint:5432/database_name
# With SSL (recommended for RDS):
# DATABASE_URL=postgresql://username:password@your-rds-endpoint:5432/database_name?sslmode=require

# JWT Secret (generate a secure random key for production). Do NOT commit real secrets.
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# Google OAuth (Desktop Installed App)
# Note: Do NOT commit real client_id/secret to source control.
GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# Web origins allowed to call the API (JSON array or comma-separated)
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000","https://your-dashboard.example.com"]

# AWS Configuration (for production deployment)
AWS_REGION=us-east-1
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET_NAME=waw-backups

# SMTP (for sending OTP emails; works with AWS SES SMTP)
# If SMTP_HOST is set, the backend will send OTP codes to email instead of returning them in responses.
SMTP_HOST=email-smtp.your-region.amazonaws.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=WaW <no-reply@yourdomain.com>
SMTP_TLS=true

# Optional: If connecting via a private RDS that enforces IAM or specific certs,
# you may need to provide SSL root cert path and/or use an IAM token.
# Example with RDS root cert:
# CORS: add your deployed dashboard origin here (comma separated in code or edit backend)
# Example: http://localhost:3000, https://dashboard.example.com
# Admin emails (comma-separated) that get admin-scoped JWTs
ADMIN_EMAILS=admin@example.com,owner@company.com

# Application Configuration
APP_NAME=blink-tracker
APP_VERSION=1.0.0
APP_DESCRIPTION=Cloud-synced eye tracker for workplace wellness

ADMIN_API_KEY=your-admin-api-key-for-dashboard
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Security
BCRYPT_ROUNDS=12
SESSION_EXPIRE_HOURS=168  # 7 days

# Desktop App Configuration
SYNC_INTERVAL_SECONDS=300  # 5 minutes
OFFLINE_QUEUE_MAX_SIZE=1000
DEVICE_ID_PREFIX=waw-device

# Desktop client API base URL (optional for dev; desktop can also use defaults)
API_BASE_URL=http://localhost:8000

# Dashboard (set on hosting provider, not here)
# NEXT_PUBLIC_API_BASE=https://api.example.com
